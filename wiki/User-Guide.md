# User Guide

Comprehensive documentation for the Geoscientist's Toolkit application.

---

## Table of Contents

1. [Introduction](#introduction)
2. [Core Concepts](#core-concepts)
3. [Data Types and Formats](#data-types-and-formats)
4. [User Interface](#user-interface)
5. [Analysis Modules](#analysis-modules)
6. [Advanced Features](#advanced-features)
7. [Technical Reference](#technical-reference)

---

## Introduction

### What is Geoscientist's Toolkit?

Geoscientist's Toolkit is a comprehensive desktop application for advanced geoscientific data analysis and simulation. Built on .NET 8.0, it provides an integrated environment for working with diverse geophysical and geochemical datasets, from seismic surveys to microscale rock analysis.

### Key Capabilities

- Multi-scale analysis from pore-scale (micrometers) to basin-scale (kilometers)
- Real-time 3D visualization using modern graphics APIs
- GPU-accelerated simulations for geomechanics, geothermal systems, and reactive transport
- Comprehensive thermodynamic and chemical databases
- Automated workflows through GeoScript programming language
- Support for industry-standard formats (SEG-Y, LAS, Shapefiles, Excel, TIFF, PNG)

### Target Users

This software is designed for:
- Geoscientists and researchers analyzing subsurface data
- Reservoir engineers modeling flow and transport
- Geothermal engineers designing energy systems
- Petrophysicists characterizing rock properties
- Geomechanical engineers simulating stress and deformation
- Environmental scientists studying contaminant transport

---

## Core Concepts

### Projects

A project is a collection of datasets with associated metadata. Projects are persisted as `.gtp` files containing:
- Dataset references and metadata
- Binary data files (images, volumes, tables)
- Material definitions and properties
- Analysis configurations

Projects support auto-save functionality with configurable intervals.

### Datasets

Everything in Geoscientist's Toolkit is a dataset. A dataset represents a discrete unit of geoscientific data with:
- **Type**: One of 27 supported types (CT volumes, images, tables, boreholes, etc.)
- **Name**: User-defined identifier
- **Metadata**: Creation date, source, location, sample information
- **Data**: The actual content (varies by type)

Datasets can be:
- Loaded from files
- Created through analysis operations
- Generated by scripts
- Exported to standard formats

### Materials

Materials represent physical substances with properties including:
- Density (kg/m³)
- Porosity (fraction)
- Color (RGBA for visualization)
- Thermal properties (conductivity, heat capacity)
- Mechanical properties (Young's modulus, Poisson ratio)

Materials are assigned to voxels in CT volumes or elements in meshes for property-based simulations.

### Metadata

All datasets support comprehensive metadata:
- Sample name and description
- Collection date and time
- Geographic location (latitude/longitude)
- Collector name
- Custom key-value pairs

---

## Data Types and Formats

### Supported Dataset Types

| Dataset Type | Description | Formats | Key Features |
|--------------|-------------|---------|--------------|
| **CT Image Stack** | 3D volumetric data | TIFF, DICOM, Raw | Segmentation, 3D rendering |
| **Single Image** | 2D raster images | PNG, JPEG, TIFF, BMP | Layers, selections |
| **Table** | Tabular data | CSV, Excel | Statistics, filtering |
| **GIS** | Geographic data | Shapefile, GeoJSON | Spatial operations |
| **Borehole** | Well log data | LAS, .bhb | Lithology, correlation |
| **PNM** | Pore networks | Custom | Flow simulation |
| **Dual PNM** | Dual-porosity networks | Custom | Macro/micro coupling |
| **Seismic** | Seismic survey | SEG-Y | Trace visualization |
| **3D Mesh** | Surface meshes | OBJ, STL | 3D visualization |
| **Acoustic Volume** | Acoustic data | Custom | Wave visualization |
| **PhysicoChem** | Reactor datasets | Custom | Multiphysics simulation |
| **Subsurface GIS** | 3D subsurface models | Custom | Volumetric GIS |
| **Earthquake** | Earthquake simulations | Custom | Event time series |
| **Slope Stability** | Stability models | Custom | Block analysis |
| **NeRF** | Neural radiance fields | Custom | Photogrammetry |
| **Point Cloud** | Scattered points | LAS, LAZ | Point visualization |
| **Video** | Video files | MP4, AVI | Frame extraction |
| **Audio** | Audio files | WAV, OGG | Audio analysis |
| **Text** | Text documents | TXT | Text processing |

### CT Image Stack

Three-dimensional volumetric data from computed tomography scanners.

**Use cases:**
- Rock core analysis
- Pore structure characterization
- Material segmentation
- Volume rendering

**Key features:**
- Multi-material segmentation
- 3D selection tools (magic wand, brush, lasso)
- Material statistics
- Export to mesh formats

### Borehole

Well log data with depth-indexed properties.

**Use cases:**
- Stratigraphic analysis
- Lithology correlation
- Well path visualization
- Formation evaluation

**Key features:**
- Lithology intervals
- Stratigraphic correlation
- Multi-borehole visualization
- Formation tops

### Pore Network Model (PNM)

Graph-based representation of pore space.

**Use cases:**
- Permeability calculation
- Multiphase flow simulation
- Reactive transport modeling
- Pore-scale characterization

**Data structure:**
- Pores (nodes with volume, area)
- Throats (edges with radius, length)
- Connectivity matrix

---

### Acoustic Volume

Time-series wavefield data generated by acoustic simulations.

**Use cases:**
- Wave propagation visualization
- Travel-time analysis
- Tomography comparisons

**Key features:**
- Snapshot storage for wavefield evolution
- Metadata for transducer placement and source parameters
- Integration with export tools for `.acvol` datasets

---

## Simulation Results and Derived Data

Many simulation modules attach results directly to the source dataset. Common examples:

- **CT Image Stack**: NMR results, thermal conductivity fields, acoustic wave snapshots, geomechanical stress/strain fields.
- **PNM**: Reactive transport state and permeability evolution.
- **PhysicoChem**: Current state (temperature/pressure/saturation fields) and tracking history.
- **Geothermal**: Simulation results stored alongside mesh/borehole inputs.

Use **Export** panels in each tool to persist results to CSV, images, or meshes for downstream workflows.

---

## User Interface

### Main Window Layout

The main window uses an ImGui docking interface with the following default panels:

```
+-----------------------------------------------------------+
| Menu Bar: File | Edit | View | Tools | Help               |
+-----------------------------------------------------------+
| +-------------+  +-------------------+  +-------------+   |
| | Datasets    |  | Viewer Window     |  | Properties  |   |
| | Panel       |  |                   |  | Panel       |   |
| |             |  | (Interactive 3D)  |  |             |   |
| | - Dataset 1 |  |                   |  | Name:       |   |
| | - Dataset 2 |  +-------------------+  | Type:       |   |
| | - Dataset 3 |  +-------------------+  | Size:       |   |
| |             |  | Viewer Window 2   |  | Created:    |   |
| | Tools Panel |  |                   |  | Metadata... |   |
| +-------------+  +-------------------+  +-------------+   |
| +-------------------------------------------------------+ |
| | Log Panel (Messages, Warnings, Errors)                | |
| +-------------------------------------------------------+ |
+-----------------------------------------------------------+
```

All panels are dockable and can be rearranged, resized, or closed.

### Datasets Panel

Located on the left sidebar by default, this panel shows:
- Hierarchical list of all loaded datasets
- Dataset type icons
- Selection state (click to select, multi-select with Ctrl)
- Right-click context menu for operations

**Operations:**
- View: Open a viewer window
- Properties: Show detailed properties
- Remove: Delete from project
- Export: Save to file
- Duplicate: Create a copy

### Properties Panel

Shows detailed information about the selected dataset:
- Basic metadata (name, type, size)
- Creation and modification dates
- File path (if loaded from disk)
- Custom metadata fields
- Type-specific properties

### Viewer Windows

Each dataset type has a specialized viewer:

**CT Volume Viewer:**
- 3D rendering with raycasting
- Slice views (XY, XZ, YZ planes)
- Material coloring
- Segmentation overlay
- Transfer function editor

**Image Viewer:**
- Zoom and pan
- Layer visibility
- Selection tools overlay
- Histogram display

**Table Viewer:**
- Spreadsheet-like grid
- Sortable columns
- Filter controls
- Statistics display

**GIS Viewer:**
- 2D map view
- Layer management
- Feature selection
- Attribute inspection

**Borehole Viewer:**
- Vertical log display
- Lithology intervals
- Track plots
- Correlation lines

### Tools Panel

Context-sensitive tools appear based on the selected dataset type:

**CT Image Stack Tools:**
- Segmentation: Magic Wand, Brush, Lasso, Fill
- Volume extraction
- Material assignment
- Statistics calculation

**Image Tools:**
- Selection: Rectangle, Ellipse, Polygon
- Filters: Blur, Sharpen, Threshold
- Color adjustments

**Table Tools:**
- Filter builder
- Column operations
- Aggregation

**GIS Tools:**
- Spatial query
- Buffer operations
- Intersection/Union

### Menu Bar

**File Menu:**
- New Project, Open Project, Save Project / Save As
- Import Data, Export Selected
- Recent Projects, Exit

**Edit Menu:**
- Undo / Redo (where supported)
- Copy / Paste
- Preferences

**View Menu:**
- Show/Hide panels
- Reset Layout
- Fullscreen

**Tools Menu:**
- GeoScript Editor
- Material Library
- Compound Library
- System Info, Settings

**Help Menu:**
- Documentation
- About
- Debug Systems

---

## Analysis Modules

Geoscientist's Toolkit includes 22 specialized analysis modules. Key modules are documented separately:

| Module | Documentation |
|--------|---------------|
| Pore Network Modeling | [Pore Network Modeling](Pore-Network-Modeling.md) |
| Geothermal Analysis | [Geothermal Simulation](Geothermal-Simulation.md) |
| CT Imaging & Segmentation | [CT Imaging and Segmentation](CT-Imaging-and-Segmentation.md) |
| Seismic Analysis | [Seismic Analysis](Seismic-Analysis.md) |
| Thermodynamics | [Thermodynamics and Geochemistry](Thermodynamics-and-Geochemistry.md) |
| Slope Stability | [Slope Stability](Slope-Stability.md) |
| Photogrammetry | [Photogrammetry](Photogrammetry.md) |

### Overview of Analysis Capabilities

#### Pore Network Modeling
- PNM generation from CT volumes
- Absolute permeability calculation
- Reactive transport in PNM
- Dual-PNM systems

#### Geothermal Analysis
- Geothermal system simulation
- Borehole thermal energy storage (BTES)
- Organic Rankine Cycle (ORC) analysis

#### Geomechanical Analysis
- Triaxial testing simulation
- Elastic-plastic constitutive models
- Mohr-Coulomb failure criterion
- Property calibration

#### Thermodynamic Analysis
- Chemical equilibrium solver
- Phase diagram generation
- Reactive transport (continuum)

#### Seismic and Acoustic Analysis
- Wave propagation simulation
- Earthquake simulation
- SEG-Y processing

---

## Advanced Features

### GPU Acceleration

Geoscientist's Toolkit can leverage GPU compute for performance-critical simulations.

**Supported operations:**
- Geothermal heat transport
- Triaxial geomechanical simulation
- Reactive transport solvers

**Setup:**
1. Open `Tools → Settings`
2. Navigate to Compute section
3. Check "Enable OpenCL"
4. Select device from dropdown
5. Restart application

### Distributed Computing

Some simulations support distributed execution across multiple machines.

**Setup:**
1. Open `Tools → Node Manager`
2. Add compute nodes (IP address + port)
3. Configure node properties (CPU cores, memory)
4. Enable distribution in simulation settings

**Learn more:** [NodeEndpoint](NodeEndpoint.md)

### Material Library Management

**Importing Material Definitions:**
1. Open `Tools → Material Library`
2. Click "Import"
3. Select material definition file (JSON)
4. Materials added to library

**Exporting Materials:**
1. Open `Tools → Material Library`
2. Select materials to export
3. Click "Export"
4. Save as JSON file

### Compound Library Customization

**Adding Custom Compounds:**
1. Open `Tools → Compound Library`
2. Click "Add Compound"
3. Enter properties (Name, Formula, Gibbs free energy, etc.)
4. Save changes

---

## Technical Reference

### System Architecture

```
GeoscientistToolkit (Main Application)
│
├── Graphics Layer (Veldrid + ImGui)
│   ├── Window Management
│   ├── Rendering Pipeline
│   └── Input Handling
│
├── UI Layer
│   ├── Main Window
│   ├── Dataset Viewers
│   ├── Tool Panels
│   └── Dialogs
│
├── Business Logic Layer
│   ├── Project Manager
│   ├── GeoScript Engine
│   ├── Compound Library
│   └── Settings Manager
│
├── Data Model Layer
│   ├── Dataset (Abstract Base)
│   ├── 27 Dataset Implementations
│   └── Metadata System
│
├── Analysis Layer
│   ├── 22 Analysis Modules
│   └── Simulation Engines
│
└── I/O Layer
    ├── Data Loaders
    └── Data Exporters
```

### Performance Benchmarks

Typical performance (Intel i7, 16GB RAM, NVIDIA GTX 1660):

| Operation | Dataset Size | Time |
|-----------|--------------|------|
| CT Volume Load | 512³ voxels | 2-5 sec |
| PNM Generation | 512³ volume | 30-60 sec |
| Permeability Calc | 10k pores | 5-10 sec |
| Triaxial Sim (CPU) | 100³ elements | 10-15 min |
| Triaxial Sim (GPU) | 100³ elements | 2-3 min |
| Geothermal Sim (GPU) | 200³ grid, 10 years | 5-10 min |

### File Format Details

#### .gtp Project Format

ZIP archive structure:
```
project.gtp (ZIP)
├── project.json          # Metadata and dataset registry
├── data/
│   ├── dataset1.bin      # Binary data files
│   └── ...
└── materials/
    └── materials.json    # Material definitions
```

---

## Troubleshooting

### Graphics Initialization Failure

**Symptom:** Application crashes on startup

**Solution:**
1. Delete `settings.json` to reset graphics backend
2. Run with failsafe mode: `./GeoscientistToolkit --failsafe`
3. Select compatible graphics backend

### Out of Memory

**Symptom:** Application crashes when loading large datasets

**Solutions:**
- Close unnecessary datasets
- Reduce volume resolution
- Increase system RAM or swap space

### SEG-Y Load Failure

**Symptom:** Error loading seismic files

**Solutions:**
- Verify SEG-Y revision (supports Rev 0, 1)
- Check byte order (big-endian vs little-endian)
- Examine trace headers for corruption

---

## Related Pages

- [Getting Started](Getting-Started.md) - Quick start guide
- [GeoScript Manual](GeoScript-Manual.md) - Scripting language reference
- [Installation](Installation.md) - Setup instructions
- [Home](Home.md) - Wiki home page

---

**Document Version:** 1.0.0
**Last Updated:** January 2026
